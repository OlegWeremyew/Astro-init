---
import Layout from "../layouts/Layout.astro";
import { IProduct } from "../types";
import ProductCard from "../components/ProductCard";
import Visible from "../components/Visible";

const response = await fetch("https://fakestoreapi.com/products");
const products = (await response.json()) as IProduct[];
---

<Layout title="Products">
  <h1 class="text2-lg font-bold">Products page</h1>
  {products.map((product) => <ProductCard client:load product={product} />)}
  <Visible client:load />
</Layout>
